import base64
exec(base64.b64decode(b'IyAgICDYrNmF2YrYuSDYp9mE2K3ZgtmI2YIg2YTZhdi32YjYsdmKINiz2YjYsdizINiv2YrZiCDYrdi12LHZitinINmE2YfZhSDZgdmC2LcKIyAgICDYp9iw2Kcg2KrYrtmF2Lcg2KfZhNmF2YTZgSDYp9iw2YPYsSDYp9mE2K3ZgtmI2YIg2YjZg9in2KrYqNmK2Ycg2YjZhdi32YjYsdmK2Ycg2YTYpyDYqtit2LDZgSDYp9mE2K3ZgtmI2YIg2YjYqti12YrYsSDZgdin2LTZhCDwn5GNCiMgICAg2YPYqtin2KjYqSDYrdiz2YYg2YjYrNmK2LHZigoKaW1wb3J0IGFzeW5jaW8KaW1wb3J0IG9zCmltcG9ydCBzeXMKZnJvbSBhc3luY2lvLmV4Y2VwdGlvbnMgaW1wb3J0IENhbmNlbGxlZEVycm9yCgppbXBvcnQgaGVyb2t1MwppbXBvcnQgdXJsbGliMwpmcm9tIGdpdCBpbXBvcnQgUmVwbwpmcm9tIGdpdC5leGMgaW1wb3J0IEdpdENvbW1hbmRFcnJvciwgSW52YWxpZEdpdFJlcG9zaXRvcnlFcnJvciwgTm9TdWNoUGF0aEVycm9yCgpmcm9tIHVzZXJib3QgaW1wb3J0IEhFUk9LVV9BUFAsIFVQU1RSRUFNX1JFUE9fVVJMLCBqbXRob24KCmZyb20gLi5Db25maWcgaW1wb3J0IENvbmZpZwpmcm9tIC4uY29yZS5sb2dnZXIgaW1wb3J0IGxvZ2dpbmcKZnJvbSAuLmNvcmUubWFuYWdlcnMgaW1wb3J0IGVkaXRfZGVsZXRlLCBlZGl0X29yX3JlcGx5CmZyb20gLi5zcWxfaGVscGVyLmdsb2JhbF9jb2xsZWN0aW9uIGltcG9ydCAoCiAgICBhZGRfdG9fY29sbGVjdGlvbmxpc3QsCiAgICBkZWxfa2V5d29yZF9jb2xsZWN0aW9ubGlzdCwKICAgIGdldF9jb2xsZWN0aW9ubGlzdF9pdGVtcywKKQpmcm9tIC4uc3FsX2hlbHBlci5nbG9iYWxzIGltcG9ydCBkZWxndmFyCgpwbHVnaW5fY2F0ZWdvcnkgPSAidG9vbHMiCmNtZGhkID0gQ29uZmlnLkNPTU1BTkRfSEFORF9MRVIKCkxPR1MgPSBsb2dnaW5nLmdldExvZ2dlcihfX25hbWVfXykKIyAtLSDYq9mA2YjYp9io2KogLS0gIwoKSEVST0tVX0FQUF9OQU1FID0gQ29uZmlnLkhFUk9LVV9BUFBfTkFNRSBvciBOb25lCkhFUk9LVV9BUElfS0VZID0gQ29uZmlnLkhFUk9LVV9BUElfS0VZIG9yIE5vbmUKSGVyb2t1ID0gaGVyb2t1My5mcm9tX2tleShDb25maWcuSEVST0tVX0FQSV9LRVkpCmhlcm9rdV9hcGkgPSAiaHR0cHM6Ly9hcGkuaGVyb2t1LmNvbSIKClVQU1RSRUFNX1JFUE9fQlJBTkNIID0gQ29uZmlnLlVQU1RSRUFNX1JFUE9fQlJBTkNICgpSRVBPX1JFTU9URV9OQU1FID0gInRlbXBvbmFtZSIKSUZGVUNJX0FDVElWRV9CUkFOQ0hfTkFNRSA9ICJtYXN0ZXIiCk5PX0hFUk9LVV9BUFBfQ0ZHRCA9ICJubyBoZXJva3UgYXBwbGljYXRpb24gZm91bmQsIGJ1dCBhIGtleSBnaXZlbj8g8J+YlSAiCkhFUk9LVV9HSVRfUkVGX1NQRUMgPSAiSEVBRDpyZWZzL2hlYWRzL21hc3RlciIKUkVTVEFSVElOR19BUFAgPSAicmUtc3RhcnRpbmcgaGVyb2t1IGFwcGxpY2F0aW9uIgpJU19TRUxFQ1RFRF9ESUZGRVJFTlRfQlJBTkNIID0gKAogICAgImxvb2tzIGxpa2UgYSBjdXN0b20gYnJhbmNoIHticmFuY2hfbmFtZX0gIgogICAgImlzIGJlaW5nIHVzZWQ6XG4iCiAgICAiaW4gdGhpcyBjYXNlLCBVcGRhdGVyIGlzIHVuYWJsZSB0byBpZGVudGlmeSB0aGUgYnJhbmNoIHRvIGJlIHVwZGF0ZWQuIgogICAgInBsZWFzZSBjaGVjayBvdXQgdG8gYW4gb2ZmaWNpYWwgYnJhbmNoLCBhbmQgcmUtc3RhcnQgdGhlIHVwZGF0ZXIuIgopCgoKIyAtLSDYp9mG2KrZh9in2KEg2KfZhNir2YjYp9io2KogLS0gIwoKdXJsbGliMy5kaXNhYmxlX3dhcm5pbmdzKHVybGxpYjMuZXhjZXB0aW9ucy5JbnNlY3VyZVJlcXVlc3RXYXJuaW5nKQoKcmVxdWlyZW1lbnRzX3BhdGggPSBvcy5wYXRoLmpvaW4oCiAgICBvcy5wYXRoLmRpcm5hbWUob3MucGF0aC5kaXJuYW1lKG9zLnBhdGguZGlybmFtZShfX2ZpbGVfXykpKSwgInJlcXVpcmVtZW50cy50eHQiCikKCgphc3luYyBkZWYgZ2VuX2NobG9nKHJlcG8sIGRpZmYpOgogICAgZF9mb3JtID0gIiVkLyVtLyV5IgogICAgcmV0dXJuICIiLmpvaW4oCiAgICAgICAgZiIgIOKAoiB7Yy5zdW1tYXJ5fSAoe2MuY29tbWl0dGVkX2RhdGV0aW1lLnN0cmZ0aW1lKGRfZm9ybSl9KSA8e2MuYXV0aG9yfT5cbiIKICAgICAgICBmb3IgYyBpbiByZXBvLml0ZXJfY29tbWl0cyhkaWZmKQogICAgKQoKCmFzeW5jIGRlZiBwcmludF9jaGFuZ2Vsb2dzKGV2ZW50LCBhY19iciwgY2hhbmdlbG9nKToKICAgIGNoYW5nZWxvZ19zdHIgPSAoCiAgICAgICAgZiIqKuKZsO+4mSDZgtin2YUg2YXYt9mI2LHZitmGINin2YTYs9mI2LHYsyDYqNiq2K3Yr9mK2Ksg2LPZiNix2LMg2K/ZitmA2YgqKlxu4pmw77iZKirZitix2KzZiSDYp9mE2KrYrdiv2YrYqyDZhNmE2KfYs9iq2YXYqtin2Lkg2KjYp9mE2YXZhdmK2LLYp9iqINin2YTYrNiv2YrYr9ipKioiCiAgICApCiAgICBpZiBsZW4oY2hhbmdlbG9nX3N0cikgPiA0MDk2OgogICAgICAgIGF3YWl0IGV2ZW50LmVkaXQoImBDaGFuZ2Vsb2cgaXMgdG9vIGJpZywgdmlldyB0aGUgZmlsZSB0byBzZWUgaXQuYCIpCiAgICAgICAgd2l0aCBvcGVuKCJvdXRwdXQudHh0IiwgIncrIikgYXMgZmlsZToKICAgICAgICAgICAgZmlsZS53cml0ZShjaGFuZ2Vsb2dfc3RyKQogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX2ZpbGUoCiAgICAgICAgICAgIGV2ZW50LmNoYXRfaWQsCiAgICAgICAgICAgICJvdXRwdXQudHh0IiwKICAgICAgICAgICAgcmVwbHlfdG89ZXZlbnQuaWQsCiAgICAgICAgKQogICAgICAgIG9zLnJlbW92ZSgib3V0cHV0LnR4dCIpCiAgICBlbHNlOgogICAgICAgIGF3YWl0IGV2ZW50LmNsaWVudC5zZW5kX21lc3NhZ2UoCiAgICAgICAgICAgIGV2ZW50LmNoYXRfaWQsCiAgICAgICAgICAgIGNoYW5nZWxvZ19zdHIsCiAgICAgICAgICAgIHJlcGx5X3RvPWV2ZW50LmlkLAogICAgICAgICkKICAgIHJldHVybiBUcnVlCgoKYXN5bmMgZGVmIHVwZGF0ZV9yZXF1aXJlbWVudHMoKToKICAgIHJlcXMgPSBzdHIocmVxdWlyZW1lbnRzX3BhdGgpCiAgICB0cnk6CiAgICAgICAgcHJvY2VzcyA9IGF3YWl0IGFzeW5jaW8uY3JlYXRlX3N1YnByb2Nlc3Nfc2hlbGwoCiAgICAgICAgICAgICIgIi5qb2luKFtzeXMuZXhlY3V0YWJsZSwgIi1tIiwgInBpcCIsICJpbnN0YWxsIiwgIi1yIiwgcmVxc10pLAogICAgICAgICAgICBzdGRvdXQ9YXN5bmNpby5zdWJwcm9jZXNzLlBJUEUsCiAgICAgICAgICAgIHN0ZGVycj1hc3luY2lvLnN1YnByb2Nlc3MuUElQRSwKICAgICAgICApCiAgICAgICAgYXdhaXQgcHJvY2Vzcy5jb21tdW5pY2F0ZSgpCiAgICAgICAgcmV0dXJuIHByb2Nlc3MucmV0dXJuY29kZQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybiByZXByKGUpCgoKYXN5bmMgZGVmIHVwZGF0ZShldmVudCwgcmVwbywgdXBzX3JlbSwgYWNfYnIpOgogICAgdHJ5OgogICAgICAgIHVwc19yZW0ucHVsbChhY19icikKICAgIGV4Y2VwdCBHaXRDb21tYW5kRXJyb3I6CiAgICAgICAgcmVwby5naXQucmVzZXQoIi0taGFyZCIsICJGRVRDSF9IRUFEIikKICAgIGF3YWl0IHVwZGF0ZV9yZXF1aXJlbWVudHMoKQogICAgamFzbWUgPSBhd2FpdCBldmVudC5lZGl0KAogICAgICAgICIqKiDimbDvuJnYrNmA2KfYsdmKINiq2K3Yr9mK2YDYqyDYs9mI2LHYsyDYr9mK2YDZiCDYp9mG2KrYuNixINmC2YTZitmE2Kcg2LPZiNmBINmG2K7YqNix2YMg2KjYudivINin2LnYp9iv2Kkg2KfZhNiq2LTYutmK2YQgISoqIgogICAgKQogICAgYXdhaXQgZXZlbnQuY2xpZW50LnJlbG9hZChqYXNtZSkKCgphc3luYyBkZWYgZGVwbG95KGV2ZW50LCByZXBvLCB1cHNfcmVtLCBhY19iciwgdHh0KToKICAgIGlmIEhFUk9LVV9BUElfS0VZIGlzIE5vbmU6CiAgICAgICAgcmV0dXJuIGF3YWl0IGV2ZW50LmVkaXQoImBQbGVhc2Ugc2V0IHVwYCAgKipIRVJPS1VfQVBJX0tFWSoqICBgIFZhci4uLmAiKQogICAgaGVyb2t1ID0gaGVyb2t1My5mcm9tX2tleShIRVJPS1VfQVBJX0tFWSkKICAgIGhlcm9rdV9hcHAgPSBOb25lCiAgICBoZXJva3VfYXBwbGljYXRpb25zID0gaGVyb2t1LmFwcHMoKQogICAgaWYgSEVST0tVX0FQUF9OQU1FIGlzIE5vbmU6CiAgICAgICAgYXdhaXQgZXZlbnQuZWRpdCgKICAgICAgICAgICAgImBQbGVhc2Ugc2V0IHVwIHRoZWAgKipIRVJPS1VfQVBQX05BTUUqKiBgVmFyYCIKICAgICAgICAgICAgIiB0byBiZSBhYmxlIHRvIGRlcGxveSB5b3VyIHVzZXJib3QuLi5gIgogICAgICAgICkKICAgICAgICByZXBvLl9fZGVsX18oKQogICAgICAgIHJldHVybgogICAgZm9yIGFwcCBpbiBoZXJva3VfYXBwbGljYXRpb25zOgogICAgICAgIGlmIGFwcC5uYW1lID09IEhFUk9LVV9BUFBfTkFNRToKICAgICAgICAgICAgaGVyb2t1X2FwcCA9IGFwcAogICAgICAgICAgICBicmVhawogICAgaWYgaGVyb2t1X2FwcCBpcyBOb25lOgogICAgICAgIGF3YWl0IGV2ZW50LmVkaXQoCiAgICAgICAgICAgIGYie3R4dH1cbiIgImBJbnZhbGlkIEhlcm9rdSBjcmVkZW50aWFscyBmb3IgZGVwbG95aW5nIHVzZXJib3QgZHluby5gIgogICAgICAgICkKICAgICAgICByZXR1cm4gcmVwby5fX2RlbF9fKCkKICAgIGphc21lID0gYXdhaXQgZXZlbnQuZWRpdCgKICAgICAgICAiYFVzZXJib3QgZHlubyBidWlsZCBpbiBwcm9ncmVzcywgcGxlYXNlIHdhaXQgdW50aWwgdGhlIHByb2Nlc3MgZmluaXNoZXMgaXQgdXN1YWxseSB0YWtlcyA0IHRvIDUgbWludXRlcyAuYCIKICAgICkKICAgIHRyeToKICAgICAgICB1bGlzdCA9IGdldF9jb2xsZWN0aW9ubGlzdF9pdGVtcygpCiAgICAgICAgZm9yIGkgaW4gdWxpc3Q6CiAgICAgICAgICAgIGlmIGkgPT0gInJlc3RhcnRfdXBkYXRlIjoKICAgICAgICAgICAgICAgIGRlbF9rZXl3b3JkX2NvbGxlY3Rpb25saXN0KCJyZXN0YXJ0X3VwZGF0ZSIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgTE9HUy5lcnJvcihlKQogICAgdHJ5OgogICAgICAgIGFkZF90b19jb2xsZWN0aW9ubGlzdCgicmVzdGFydF91cGRhdGUiLCBbamFzbWUuY2hhdF9pZCwgamFzbWUuaWRdKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIExPR1MuZXJyb3IoZSkKICAgIHVwc19yZW0uZmV0Y2goYWNfYnIpCiAgICByZXBvLmdpdC5yZXNldCgiLS1oYXJkIiwgIkZFVENIX0hFQUQiKQogICAgaGVyb2t1X2dpdF91cmwgPSBoZXJva3VfYXBwLmdpdF91cmwucmVwbGFjZSgKICAgICAgICAiaHR0cHM6Ly8iLCAiaHR0cHM6Ly9hcGk6IiArIEhFUk9LVV9BUElfS0VZICsgIkAiCiAgICApCiAgICBpZiAiaGVyb2t1IiBpbiByZXBvLnJlbW90ZXM6CiAgICAgICAgcmVtb3RlID0gcmVwby5yZW1vdGUoImhlcm9rdSIpCiAgICAgICAgcmVtb3RlLnNldF91cmwoaGVyb2t1X2dpdF91cmwpCiAgICBlbHNlOgogICAgICAgIHJlbW90ZSA9IHJlcG8uY3JlYXRlX3JlbW90ZSgiaGVyb2t1IiwgaGVyb2t1X2dpdF91cmwpCiAgICB0cnk6CiAgICAgICAgcmVtb3RlLnB1c2gocmVmc3BlYz0iSEVBRDpyZWZzL2hlYWRzL21hc3RlciIsIGZvcmNlPVRydWUpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGVycm9yOgogICAgICAgIGF3YWl0IGV2ZW50LmVkaXQoZiJ7dHh0fVxuKipFcnJvciBsb2c6KipcbmB7ZXJyb3J9YCIpCiAgICAgICAgcmV0dXJuIHJlcG8uX19kZWxfXygpCiAgICBidWlsZF9zdGF0dXMgPSBoZXJva3VfYXBwLmJ1aWxkcyhvcmRlcl9ieT0iY3JlYXRlZF9hdCIsIHNvcnQ9ImRlc2MiKVswXQogICAgaWYgYnVpbGRfc3RhdHVzLnN0YXR1cyA9PSAiZmFpbGVkIjoKICAgICAgICByZXR1cm4gYXdhaXQgZWRpdF9kZWxldGUoCiAgICAgICAgICAgIGV2ZW50LCAiYEJ1aWxkIGZhaWxlZCFcbiIgIkNhbmNlbGxlZCBvciB0aGVyZSB3ZXJlIHNvbWUgZXJyb3JzLi4uYCIKICAgICAgICApCiAgICB0cnk6CiAgICAgICAgcmVtb3RlLnB1c2goIm1hc3RlcjptYWluIiwgZm9yY2U9VHJ1ZSkKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXJyb3I6CiAgICAgICAgYXdhaXQgZXZlbnQuZWRpdChmInt0eHR9XG4qKkhlcmUgaXMgdGhlIGVycm9yIGxvZzoqKlxuYHtlcnJvcn1gIikKICAgICAgICByZXR1cm4gcmVwby5fX2RlbF9fKCkKICAgIGF3YWl0IGV2ZW50LmVkaXQoImBEZXBsb3kgd2FzIGZhaWxlZC4gU28gcmVzdGFydGluZyB0byB1cGRhdGVgIikKICAgIGRlbGd2YXIoImlwYWRkcmVzcyIpCiAgICB0cnk6CiAgICAgICAgYXdhaXQgZXZlbnQuY2xpZW50LmRpc2Nvbm5lY3QoKQogICAgICAgIGlmIEhFUk9LVV9BUFAgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIEhFUk9LVV9BUFAucmVzdGFydCgpCiAgICBleGNlcHQgQ2FuY2VsbGVkRXJyb3I6CiAgICAgICAgcGFzcwoKCkBqbXRob24uYXJfY21kKAogICAgcGF0dGVybj0i2KrYrdiv2YrYqyh8INin2YTYp9mGKT8kIiwKICAgIGNvbW1hbmQ9KCLYqtit2K/ZitirIiwgcGx1Z2luX2NhdGVnb3J5KSwKICAgIGluZm89ewogICAgICAgICJoZWFkZXIiOiAiVG8gdXBkYXRlIHVzZXJib3QuIiwKICAgICAgICAiZGVzY3JpcHRpb24iOiAiSSByZWNvbW1lbmQgeW91IHRvIGRvIHVwZGF0ZSBkZXBsb3kgYXRsZXN0IG9uY2UgYSB3ZWVrLiIsCiAgICAgICAgIm9wdGlvbnMiOiB7CiAgICAgICAgICAgICJub3ciOiAiV2lsbCB1cGRhdGUgYm90IGJ1dCByZXF1aXJlbWVudHMgZG9lc250IHVwZGF0ZS4iLAogICAgICAgICAgICAiZGVwbG95IjogIkJvdCB3aWxsIHVwZGF0ZSBjb21wbGV0bHkgd2l0aCByZXF1aXJlbWVudHMgYWxzby4iLAogICAgICAgIH0sCiAgICAgICAgInVzYWdlIjogWwogICAgICAgICAgICAie3RyfXVwZGF0ZSIsCiAgICAgICAgICAgICJ7dHJ92KrYrdiv2YrYqyDYp9mE2KfZhiIsCiAgICAgICAgICAgICJ7dHJ9dXBkYXRlIGRlcGxveSIsCiAgICAgICAgXSwKICAgIH0sCikKYXN5bmMgZGVmIHVwc3RyZWFtKGV2ZW50KToKICAgICJUbyBjaGVjayBpZiB0aGUgYm90IGlzIHVwIHRvIGRhdGUgYW5kIHVwZGF0ZSBpZiBzcGVjaWZpZWQiCiAgICBjb25mID0gZXZlbnQucGF0dGVybl9tYXRjaC5ncm91cCgxKS5zdHJpcCgpCiAgICBldmVudCA9IGF3YWl0IGVkaXRfb3JfcmVwbHkoCiAgICAgICAgZXZlbnQsICIqKuKZsO+4mdmK2YDYqtmA2YUg2KfZhNio2YDYrdmA2Ksg2LnZgNmGINiq2YDYrdiv2YrYq9mA2KfYqiDYs9mA2YjYsdizINiv2YrZgNmIINin2YbZgNiq2YDYuNmA2LEqKiIKICAgICkKICAgIG9mZl9yZXBvID0gVVBTVFJFQU1fUkVQT19VUkwKICAgIGZvcmNlX3VwZGF0ZSA9IEZhbHNlCiAgICBpZiBIRVJPS1VfQVBJX0tFWSBpcyBOb25lIG9yIEhFUk9LVV9BUFBfTkFNRSBpcyBOb25lOgogICAgICAgIHJldHVybiBhd2FpdCBlZGl0X29yX3JlcGx5KAogICAgICAgICAgICBldmVudCwgImBTZXQgdGhlIHJlcXVpcmVkIHZhcnMgZmlyc3QgdG8gdXBkYXRlIHRoZSBib3RgIgogICAgICAgICkKICAgIHRyeToKICAgICAgICB0eHQgPSAiYE9vcHMuLiBVcGRhdGVyIGNhbm5vdCBjb250aW51ZSBkdWUgdG8gIgogICAgICAgIHR4dCArPSAic29tZSBwcm9ibGVtcyBvY2N1cmVkYFxuXG4qKkxPR1RSQUNFOioqXG4iCiAgICAgICAgcmVwbyA9IFJlcG8oKQogICAgZXhjZXB0IE5vU3VjaFBhdGhFcnJvciBhcyBlcnJvcjoKICAgICAgICBhd2FpdCBldmVudC5lZGl0KGYie3R4dH1cbmBkaXJlY3Rvcnkge2Vycm9yfSBpcyBub3QgZm91bmRgIikKICAgICAgICByZXR1cm4gcmVwby5fX2RlbF9fKCkKICAgIGV4Y2VwdCBHaXRDb21tYW5kRXJyb3IgYXMgZXJyb3I6CiAgICAgICAgYXdhaXQgZXZlbnQuZWRpdChmInt0eHR9XG5gRWFybHkgZmFpbHVyZSEge2Vycm9yfWAiKQogICAgICAgIHJldHVybiByZXBvLl9fZGVsX18oKQogICAgZXhjZXB0IEludmFsaWRHaXRSZXBvc2l0b3J5RXJyb3IgYXMgZXJyb3I6CiAgICAgICAgaWYgY29uZiBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gYXdhaXQgZXZlbnQuZWRpdCgKICAgICAgICAgICAgICAgIGYiYFVuZm9ydHVuYXRlbHksIHRoZSBkaXJlY3Rvcnkge2Vycm9yfSAiCiAgICAgICAgICAgICAgICAiZG9lcyBub3Qgc2VlbSB0byBiZSBhIGdpdCByZXBvc2l0b3J5LlxuIgogICAgICAgICAgICAgICAgIkJ1dCB3ZSBjYW4gZml4IHRoYXQgYnkgZm9yY2UgdXBkYXRpbmcgdGhlIHVzZXJib3QgdXNpbmcgIgogICAgICAgICAgICAgICAgIi7Yqtit2K/ZitirINin2YTYp9mGLmAiCiAgICAgICAgICAgICkKICAgICAgICByZXBvID0gUmVwby5pbml0KCkKICAgICAgICBvcmlnaW4gPSByZXBvLmNyZWF0ZV9yZW1vdGUoInVwc3RyZWFtIiwgb2ZmX3JlcG8pCiAgICAgICAgb3JpZ2luLmZldGNoKCkKICAgICAgICBmb3JjZV91cGRhdGUgPSBUcnVlCiAgICAgICAgcmVwby5jcmVhdGVfaGVhZCgibWFzdGVyIiwgb3JpZ2luLnJlZnMubWFzdGVyKQogICAgICAgIHJlcG8uaGVhZHMubWFzdGVyLnNldF90cmFja2luZ19icmFuY2gob3JpZ2luLnJlZnMubWFzdGVyKQogICAgICAgIHJlcG8uaGVhZHMubWFzdGVyLmNoZWNrb3V0KFRydWUpCiAgICBhY19iciA9IHJlcG8uYWN0aXZlX2JyYW5jaC5uYW1lCiAgICBpZiBhY19iciAhPSBVUFNUUkVBTV9SRVBPX0JSQU5DSDoKICAgICAgICBhd2FpdCBldmVudC5lZGl0KAogICAgICAgICAgICAiKipbVVBEQVRFUl06KipcbiIKICAgICAgICAgICAgZiJgTG9va3MgbGlrZSB5b3UgYXJlIHVzaW5nIHlvdXIgb3duIGN1c3RvbSBicmFuY2ggKHthY19icn0pLiAiCiAgICAgICAgICAgICJpbiB0aGF0IGNhc2UsIFVwZGF0ZXIgaXMgdW5hYmxlIHRvIGlkZW50aWZ5ICIKICAgICAgICAgICAgIndoaWNoIGJyYW5jaCBpcyB0byBiZSBtZXJnZWQuICIKICAgICAgICAgICAgInBsZWFzZSBjaGVja291dCB0byBhbnkgb2ZmaWNpYWwgYnJhbmNoYCIKICAgICAgICApCiAgICAgICAgcmV0dXJuIHJlcG8uX19kZWxfXygpCiAgICB0cnk6CiAgICAgICAgcmVwby5jcmVhdGVfcmVtb3RlKCJ1cHN0cmVhbSIsIG9mZl9yZXBvKQogICAgZXhjZXB0IEJhc2VFeGNlcHRpb246CiAgICAgICAgcGFzcwogICAgdXBzX3JlbSA9IHJlcG8ucmVtb3RlKCJ1cHN0cmVhbSIpCiAgICB1cHNfcmVtLmZldGNoKGFjX2JyKQogICAgY2hhbmdlbG9nID0gYXdhaXQgZ2VuX2NobG9nKHJlcG8sIGYiSEVBRC4udXBzdHJlYW0ve2FjX2JyfSIpCiAgICAjIFNwZWNpYWwgY2FzZSBmb3IgZGVwbG95CiAgICBpZiBjaGFuZ2Vsb2cgPT0gIiIgYW5kIG5vdCBmb3JjZV91cGRhdGU6CiAgICAgICAgYXdhaXQgZXZlbnQuZWRpdCgKICAgICAgICAgICAgIioq4pmw77iZ2LPZiNix2LMg2K/ZitmA2Ygg2YXYrdiv2Ksg2KfZhNmJINin2K7YsSDYp9i12K/Yp9ixICoqXG4iCiAgICAgICAgICAgIGYiKirZgtmA2YbZgNin2Kkg2LPZgNmI2LHYsyDYr9mK2YDZiCoqIDogQERFT09VUyIKICAgICAgICApCiAgICAgICAgcmV0dXJuIHJlcG8uX19kZWxfXygpCiAgICBpZiBjb25mID09ICIiIGFuZCBub3QgZm9yY2VfdXBkYXRlOgogICAgICAgIGF3YWl0IHByaW50X2NoYW5nZWxvZ3MoZXZlbnQsIGFjX2JyLCBjaGFuZ2Vsb2cpCiAgICAgICAgYXdhaXQgZXZlbnQuZGVsZXRlKCkKICAgICAgICByZXR1cm4gYXdhaXQgZXZlbnQucmVzcG9uZChmIuKZsO+4mSAg2YTYqtit2K/ZitirINiz2YjYsdizINiv2YrZgNmIINin2LHYs9mEIDogYC7Yqtit2K/ZitirINin2YTYp9mGYCAiKQoKICAgIGlmIGZvcmNlX3VwZGF0ZToKICAgICAgICBhd2FpdCBldmVudC5lZGl0KAogICAgICAgICAgICAiYEZvcmNlLVN5bmNpbmcgdG8gbGF0ZXN0IHN0YWJsZSB1c2VyYm90IGNvZGUsIHBsZWFzZSB3YWl0Li4uYCIKICAgICAgICApCiAgICBpZiBjb25mID09ICLYp9mE2KfZhiI6CiAgICAgICAgYXdhaXQgZXZlbnQuZWRpdCgiKiog4pmw77iZ2KzYp9ixINiq2K3ZgNiv2YrZgNirINiz2YDZiNix2LMg2K/ZitmA2Ygg2KfZhtmA2KrZgNi42YDYsSDZgtmA2YTZitmA2YTYpyDwn5SoKioiKQogICAgICAgIGF3YWl0IHVwZGF0ZShldmVudCwgcmVwbywgdXBzX3JlbSwgYWNfYnIpCiAgICByZXR1cm4K'))
